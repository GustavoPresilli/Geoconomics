<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Bandeiras - Geoconomics</title>
    <link rel="stylesheet" href="assets/css/quiz_bandeira.css">
    <link rel="shortcut icon" type="image/jpg" href="assets/img/logo_escura_prateada.png" />
</head>

<body>
    <button class="botaoSair" onclick="sair()">Sair</button>
    <div class="pagina">
        <div class="tituloContainer">
            <h1>Quiz de Bandeiras!</h1>
        </div>
        <div class="container">
            <div id="quiz_container" class="quiz-container">
                <h2 id="bandeira"></h2>
                <div class="opcoes">
                    <ul class="options" id="opcoesResposta"></ul>
                </div>
                <div class="botao">
                    <button id="next-btn" onclick="proximaQuestao()">Próxima Pergunta</button>
                </div>
            </div>
            <div class="resultado" id="resultado">
                <div class="container">
                    <div id="div_mensagem"></div>
                    <button onclick="reiniciar()">Reiniciar</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>
<script>
    resultado.style.display = "none";
    const quizData = [
        {
            question: "<img src='assets/img/flags/bandeira_brasil.png'>",
            options: ["Brasil", "Alemanha", "China", "Estados Unidos"],
            correct: "Brasil"
        },
        {
            question: "<img src='assets/img/flags/bandeira_franca.png'>",
            options: ["Holanda", "Russia", "Luxemburgo", "França"],
            correct: "França"
        },
        {
            question: "<img src='assets/img/flags/bandeira_dinamarca.png'>",
            options: ["Dinamarca", "Suécia", "Noruega", "Finlândia"],
            correct: "Dinamarca"
        },
        {
            question: "<img src='assets/img/flags/bandeira_espanha.png'>",
            options: ["Alemanha", "Espanha", "Portugal", "Inglaterra"],
            correct: "Espanha"
        },
        {
            question: "<img src='assets/img/flags/bandeira_japao.png'>",
            options: ["Palau", "Coreia do Sul", "China", "Japão"],
            correct: "Japão"
        },
        {
            question: "<img src='assets/img/flags/bandeira_panama.png'>",
            options: ["Panamá", "Argélia", "Nicarágua", "Belize"],
            correct: "Panamá"
        },
        {
            question: "<img src='assets/img/flags/bandeira_indonesia.png'>",
            options: ["Cingapura", "Indonésia", "Polônia", "Tunísia"],
            correct: "Indonésia"
        },
        {
            question: "<img src='assets/img/flags/bandeira_colombia.png'>",
            options: ["Romania", "Equador", "Venezuela", "Colômbia"],
            correct: "Colômbia"
        },
        {
            question: "<img src='assets/img/flags/bandeira_estonia.png'>",
            options: ["Ucrânia", "Letônia", "Estônia", "Austria"],
            correct: "Estônia"
        },
        {
            question: "<img src='assets/img/flags/bandeira_tunisia.png'>",
            options: ["Azerbaijão", "Argélia", "Tunísia", "Turquia"],
            correct: "Tunísia"
        },
        {
            question: "<img src='assets/img/flags/bandeira_palau.png'>",
            options: ["Japão", "Palau", "Micronésia", "Bangladesh"],
            correct: "Palau"
        },
        {
            question: "<img src='assets/img/flags/bandeira_vanuatu.png'>",
            options: ["Afica do Sul", "Vanuatu", "Papua Nova-Guiné", "Guinè"],
            correct: "Vanuatu"
        },
        {
            question: "<img src='assets/img/flags/bandeira_lichestein.png'>",
            options: ["Haiti", "Liechtenstein", "Mongólia", "Chéquia"],
            correct: "Liechtenstein"
        },
        {
            question: "<img src='assets/img/flags/bandeira_kiribati.png'>",
            options: ["Nova Zelândia", "Nepal", "Kiribati", "Samoa"],
            correct: "Kiribati"
        },
        {
            question: "<img src='assets/img/flags/bandeira_quirguistao.png'>",
            options: ["Quirguistão", "Mongólia", "Macedônia", "Taiwan"],
            correct: "Quirguistão"
        },
    ];

    var questaoAtual = 0; //  Indice da pergunta atual
    var qtdAcertos = 0;  // Contador de acertos

    function carregarQuestao() {
        const currentQuestion = quizData[questaoAtual];
        bandeira.innerHTML = currentQuestion.question;
        opcoesResposta.innerHTML = '';

        for (var i = 0; i < currentQuestion.options.length; i++) {
            let opcaoAtual = currentQuestion.options[i]

            let opcaoResposta = document.createElement('li');

            opcaoResposta.innerText = opcaoAtual;

            // Criando a função da opção selecionada
            opcaoResposta.onclick = () => selectOption(opcaoResposta, opcaoAtual)

            // Usando apend child para definir qual é o pai 
            opcoesResposta.appendChild(opcaoResposta);
        }

    }


    carregarQuestao();
    // Carregar a primeira questão;


    // Função para selecionar a opção
    function selectOption(optionElement, option) {
        const selected = document.querySelector('.options li.selected');
        if (selected) {
            selected.classList.remove('selected');
        }
        optionElement.classList.add('selected');
        optionElement.id = "selecionado"

        const currentQuestion = quizData[questaoAtual];

    }

    // Passando para a próxima pergunta aumentando seu contador
    function proximaQuestao() {
        var questaoAtualMostrada = quizData[questaoAtual];
        var respostaSelecionada = selecionado.innerHTML;

        if (questaoAtualMostrada.correct === respostaSelecionada) {
            qtdAcertos++
        }

        alert(qtdAcertos);

        questaoAtual++;

        if (questaoAtual < quizData.length) {
            carregarQuestao();
        } else {
            mostrarResultados();
        }
    }

    function mostrarResultados() {
        quiz_container.style.display = "none";
        resultado.style.display = "block"
        div_mensagem.innerHTML = `Você acertou um total de ${qtdAcertos} perguntas`
    }

    function reiniciar() {
        window.location = "quiz_bandeiras.html";
    }

    function sair() {
        window.location = "curiosidade.html"
    }


</script>